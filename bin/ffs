#!/usr/bin/env perl6

use v6;

=begin pod
FFS: Firefox Stop; stops or continues a firefox process

Usage:

    ffs --debug [stop|cont|status]
=end pod

sub MAIN($change-cmd = "stop") {
    # extract iceweasel's process information
    my $process-info = qx{ps -u cochrane -o pid,state,command | grep '\siceweasel' | grep -v grep}.trim;
    my ($process-id, $process-state, $process-command) = $process-info.split(/\s+/);

    my $state-change = $change-cmd eq "cont" ?? "CONT" !! "STOP";

    # change the process' state
    my $kill-command = "kill -$state-change $process-id";
    qqx{$kill-command};
}

# vim: expandtab shiftwidth=4 ft=perl6
